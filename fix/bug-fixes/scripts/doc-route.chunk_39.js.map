{"version":3,"sources":["webpack://payex/./src/App/Documentation/utils/ComponentPreview/index.js"],"names":["ComponentPreview","_ref","children","language","removeOuterTag","hideValue","removeList","showCasePanel","codeFigure","dangerousHTML","_removeOuterTag","element","div","document","createElement","innerHTML","renderToStaticMarkup","firstElementChild","firstChild","nodeValue","_removeList","listElements","querySelectorAll","htmlString","forEach","el","concat","react__WEBPACK_IMPORTED_MODULE_0___default","a","Fragment","className","val","code","v","map","child","_typeof","console","warn","jsbeautifier","html_beautify","replace","css_beautify","react_prism__WEBPACK_IMPORTED_MODULE_3___default","propTypes","PropTypes","oneOf","isRequired","bool"],"mappings":"iaAQA,IAAMA,EAAmB,SAAAC,GAA6G,IAA1GC,EAA0GD,EAA1GC,SAAUC,EAAgGF,EAAhGE,SAAUC,EAAsFH,EAAtFG,eAAgBC,EAAsEJ,EAAtEI,UAAWC,EAA2DL,EAA3DK,WAAYC,EAA+CN,EAA/CM,cAAeC,EAAgCP,EAAhCO,WAAYC,EAAoBR,EAApBQ,cACxGC,EAAkB,SAAAC,GACpB,IAAMC,EAAMC,SAASC,cAAc,OAInC,OAFAF,EAAIG,UAAYC,+BAAqBL,GAEjCC,EAAIK,kBACGL,EAAIK,kBAAkBF,UACtBH,EAAIM,WACJN,EAAIM,WAAWC,UAGnB,2CAGLC,EAAc,SAAAT,GAChB,IAAMC,EAAMC,SAASC,cAAc,OAEnCF,EAAIG,UAAYC,+BAAqBL,GAErC,IAAMU,EAAeT,EAAIU,iBAAiB,MACtCC,EAAa,GAMjB,OAJAF,EAAaG,QAAQ,SAAAC,GACjBF,GAAU,GAAAG,OAAOD,EAAGV,UAAV,SAGPQ,GAsGX,OACII,EAAAC,EAAAd,cAAAa,EAAAC,EAAAC,SAAA,KACKtB,EAAgBoB,EAAAC,EAAAd,cARH,kBAClBa,EAAAC,EAAAd,cAAA,OAAKgB,UAAU,kBACV5B,IAMgB,MAAoB,KACpCM,EAAamB,EAAAC,EAAAd,cAjFH,WACf,IAbqBiB,EACjBC,EAYAA,EAAO,GAEX,GAAiB,SAAb7B,GAAuBM,EAdvBuB,EAAO,GAEgB,mBAHND,EAgBO7B,GAbbsB,QACXO,EAAIP,QAAQ,SAAAS,GAAC,OAAID,GAAI,GAAAN,OAAOO,EAAP,QAErBD,EAAOD,EAUPC,EAPGA,OAQA,GAAiB,SAAb7B,GAAuBD,GAAoC,mBAAjBA,EAASgC,IAC1DhC,EAASgC,IAAI,SAAAC,GAELH,GADA5B,EACQM,EAAgByB,GACjB7B,EACCc,EAAYe,GAEZnB,+BAAqBmB,UAIlC,GAAiB,SAAbhC,EAEH6B,GADA5B,EACQM,EAAgBR,GACjBI,EACCc,EAAYlB,GAEZc,+BAAqBd,QAGjC,OAAAkC,EAAelC,IACX,IAAK,SACD8B,EAAO9B,EAEP,MACJ,IAAK,SACDA,EAASsB,QAAQ,SAAAW,GAAK,OAAIH,GAAQG,IAElC,MACJ,QACIE,QAAQC,KAAK,yCAIzB,OAAQnC,GACJ,IAAK,OAED6B,GADAA,EAAOO,IAAaC,cAAcR,IA7DhCS,QAAQ,OAAQ,IAChBA,QAAQ,WAAY,KACpBA,QAAQ,WAAY,KACpBA,QAAQ,UAAW,IA6DjBpC,IACA2B,EAAOA,EAAKS,QAAQ,iBAAkB,KAG1C,MACJ,IAAK,MACDT,EAAOO,IAAaG,aAAaV,GAEjC,MACJ,IAAK,aAGD,MACJ,QACI,MAAO,qBAGf,OACIL,EAAAC,EAAAd,cAAA,cACIa,EAAAC,EAAAd,cAAA,WACIa,EAAAC,EAAAd,cAAC6B,EAAAf,EAAD,CAAWE,UAAS,YAAAJ,OAAcvB,IAC7B6B,MAgBC,MAAiB,OAK3ChC,EAAiB4C,UAAY,CACzBzC,SAAU0C,IAAUC,MAAM,CAAC,OAAQ,aAAc,QAAQC,WACzD3C,eAAgByC,IAAUG,KAC1B3C,UAAWwC,IAAUG,KACrB1C,WAAYuC,IAAUG,KACtBzC,cAAesC,IAAUG,KACzBxC,WAAYqC,IAAUG,KACtBvC,cAAeoC,IAAUG,MAGdhD","file":"scripts/doc-route.chunk_39.js?eb7ee3aff6581e8b8173","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport PrismCode from \"react-prism\";\nimport jsbeautifier from \"js-beautify\";\n\n// NOTE: dangerousHTML prop is used when wanting to show html in the codefigure without encoding.\n\nconst ComponentPreview = ({ children, language, removeOuterTag, hideValue, removeList, showCasePanel, codeFigure, dangerousHTML }) => {\n    const _removeOuterTag = element => {\n        const div = document.createElement(\"div\");\n\n        div.innerHTML = renderToStaticMarkup(element);\n\n        if (div.firstElementChild) {\n            return div.firstElementChild.innerHTML;\n        } else if (div.firstChild) {\n            return div.firstChild.nodeValue;\n        }\n\n        return \"Check ComponentPreview _removeOuterTag!\";\n    };\n\n    const _removeList = element => {\n        const div = document.createElement(\"div\");\n\n        div.innerHTML = renderToStaticMarkup(element);\n\n        const listElements = div.querySelectorAll(\"li\");\n        let htmlString = \"\";\n\n        listElements.forEach(el => {\n            htmlString += `${el.innerHTML} \\n`;\n        });\n\n        return htmlString;\n    };\n\n    const _removeEmpty = val => {\n        val = val.replace(/=\"\"/g, \"\");\n        val = val.replace(/ class>/g, \">\");\n        val = val.replace(/ class /g, \" \");\n        val = val.replace(/value /g, \"\");\n\n        return val;\n    };\n\n    const setDangerousHtml = val => {\n        let code = \"\";\n\n        if (typeof val.forEach === \"function\") {\n            val.forEach(v => code += `${v}\\n`);\n        } else {\n            code = val;\n        }\n\n        return code;\n    };\n\n    const CodeFigure = () => {\n        let code = \"\";\n\n        if (language === \"html\" && dangerousHTML) {\n            code = setDangerousHtml(children);\n        } else if (language === \"html\" && children && typeof children.map === \"function\") {\n            children.map(child => {\n                if (removeOuterTag) {\n                    code += _removeOuterTag(child);\n                } else if (removeList) {\n                    code += _removeList(child);\n                } else {\n                    code += renderToStaticMarkup(child);\n                }\n            });\n\n        } else if (language === \"html\") {\n            if (removeOuterTag) {\n                code += _removeOuterTag(children);\n            } else if (removeList) {\n                code += _removeList(children);\n            } else {\n                code += renderToStaticMarkup(children);\n            }\n        } else {\n            switch (typeof children) {\n                case \"string\":\n                    code = children;\n\n                    break;\n                case \"object\":\n                    children.forEach(child => code += child);\n\n                    break;\n                default:\n                    console.warn(\"CodeFigure: children needs attention!\");\n            }\n        }\n\n        switch (language) {\n            case \"html\":\n                code = jsbeautifier.html_beautify(code);\n                code = _removeEmpty(code);\n\n                if (hideValue) {\n                    code = code.replace(/ value=\"(.*)\"/g, \"\");\n                }\n\n                break;\n            case \"css\":\n                code = jsbeautifier.css_beautify(code);\n\n                break;\n            case \"javascript\":\n                // This is not needed, and for some reason crashes after a prod build [EH]\n                // code = jsbeautifier.js_beautify(code);\n                break;\n            default:\n                return \"update switchcase!\";\n        }\n\n        return (\n            <figure>\n                <pre>\n                    <PrismCode className={`language-${language}`}>\n                        {code}\n                    </PrismCode>\n                </pre>\n            </figure>\n        );\n    };\n\n    const ShowCasePanel = () => (\n        <div className=\"showcase-panel\">\n            {children}\n        </div>\n    );\n\n    return (\n        <>\n            {showCasePanel ? <ShowCasePanel /> : null}\n            {codeFigure ? <CodeFigure /> : null}\n        </>\n    );\n};\n\nComponentPreview.propTypes = {\n    language: PropTypes.oneOf([\"html\", \"javascript\", \"css\"]).isRequired,\n    removeOuterTag: PropTypes.bool,\n    hideValue: PropTypes.bool,\n    removeList: PropTypes.bool,\n    showCasePanel: PropTypes.bool,\n    codeFigure: PropTypes.bool,\n    dangerousHTML: PropTypes.bool\n};\n\nexport default ComponentPreview;\n"],"sourceRoot":""}