{"version":3,"sources":["webpack://payex/./src/App/Documentation/utils/DocToc/index.js","webpack://payex/./node_modules/react-router-hash-link/lib/index.js"],"names":["DocToc","props","_this","children","headings","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","state","component","map","child","type","name","push","title","id","firstChild","secondFirstChild","windowTopPosition","window","pageYOffset","Component","setState","element","scrollTo","top","offsetTop","left","behavior","heading","i","document","getElementById","body","clientHeight","scrollListener","updateWindowPosition","bind","addEventListener","removeEventListener","_this2","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","className","isWithinBoundary","key","react_router_hash_link__WEBPACK_IMPORTED_MODULE_2__","to","concat","activeClassName","scroll","scrollToElement","propTypes","PropTypes","func","isRequired","Object","defineProperty","exports","value","_extends","assign","target","arguments","length","source","prototype","hasOwnProperty","_typeof","Symbol","iterator","obj","constructor","genericHashLink","HashLink","NavHashLink","_react2","_interopRequireDefault","require","_propTypes2","_reactRouterDom","__esModule","default","hashFragment","observer","asyncTimerId","scrollFunction","reset","disconnect","clearTimeout","getElAndScroll","As","smooth","filteredProps","keys","indexOf","_objectWithoutProperties","onClick","e","split","slice","join","hash","replace","el","scrollIntoView","setTimeout","MutationObserver","observe","attributes","childList","subtree","Link","NavLink","node","oneOfType","string","object"],"mappings":"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","file":"scripts/doc-route.chunk_49.js?f8d0c4becbcaa546084b","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { NavHashLink as NavLink } from \"react-router-hash-link\";\n\n// FIXME: This function is really moronic and super fragile, but works for now [EH]\nconst _findHeadings = children => {\n    const headings = [];\n\n    if (typeof children.map === \"function\") {\n        children.map(child => {\n            if (child.type.name !== \"ExperimentalComponentAlert\" && typeof child.type === \"function\") {\n                if (child.type().props.children.type === \"h2\") {\n                    headings.push({\n                        title: child.type().props.children.props.children,\n                        id: child.type().props.children.props.id\n                    });\n\n                } else {\n                    const firstChild = child.type().props.children[0];\n\n                    if (firstChild.type === \"h2\") {\n                        headings.push({\n                            title: firstChild.props.children,\n                            id: firstChild.props.id\n                        });\n\n                    } else if (typeof firstChild.type === \"function\") {\n                        const secondFirstChild = firstChild.type().props.children[0]; // Really clever namegiving\n\n                        if (secondFirstChild.type === \"h2\") {\n                            headings.push({\n                                title: secondFirstChild.props.children,\n                                id: secondFirstChild.props.id\n                            });\n                        }\n                    }\n                }\n\n            } else if (child.type === \"h2\") {\n                headings.push({\n                    title: child.props.children,\n                    id: child.props.id\n                });\n            }\n        });\n    }\n\n    return headings;\n};\n\nclass DocToc extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            headings: _findHeadings(this.props.component().props.children),\n            windowTopPosition: window.pageYOffset\n        };\n    }\n\n    updateWindowPosition () {\n        this.setState({ windowTopPosition: window.pageYOffset });\n    }\n\n    scrollToElement (element) {\n        // window.scroll(0, element.offsetTop + 100);\n        window.scrollTo({\n            top: element.offsetTop + 100,\n            left: 0,\n            behavior: \"instant\"\n        });\n    }\n\n    componentDidMount () {\n        if (this.state.headings) {\n            this.state.headings.map((heading, i) => {\n                (i === 0) ? heading.top = 0 : heading.top = document.getElementById(heading.id).offsetTop;\n            });\n\n            this.state.headings.push({ top: document.body.clientHeight });\n        }\n\n        this.scrollListener = this.updateWindowPosition.bind(this);\n        window.addEventListener(\"scroll\", this.scrollListener);\n        this.updateWindowPosition();\n    }\n\n    componentWillUnmount () {\n        window.removeEventListener(\"scroll\", this.scrollListener);\n    }\n\n    render () {\n        return (\n            <div className=\"col-2 d-none d-lg-block\">\n                <div className=\"doc-toc\">\n                    <ul>\n                        {this.state.headings.map((heading, i) => {\n                            if (heading.id && heading.title) {\n                                const isWithinBoundary = this.state.windowTopPosition >= heading.top &&\n                                    this.state.windowTopPosition < this.state.headings[i + 1].top;\n\n                                return (\n                                    <li key={i} className={isWithinBoundary ? \"active\" : \"\"}>\n                                        <NavLink\n                                            to={`#${heading.id}`}\n                                            activeClassName=\"active\"\n                                            scroll={this.scrollToElement}\n                                        >\n                                            {heading.title}\n                                        </NavLink>\n                                    </li>\n                                );\n                            }\n                        })}\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}\n\nDocToc.propTypes = { component: PropTypes.func.isRequired };\n\nexport default DocToc;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.genericHashLink = genericHashLink;\nexports.HashLink = HashLink;\nexports.NavHashLink = NavHashLink;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRouterDom = require('react-router-dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar hashFragment = '';\nvar observer = null;\nvar asyncTimerId = null;\nvar scrollFunction = null;\n\nfunction reset() {\n  hashFragment = '';\n  if (observer !== null) observer.disconnect();\n  if (asyncTimerId !== null) {\n    window.clearTimeout(asyncTimerId);\n    asyncTimerId = null;\n  }\n}\n\nfunction getElAndScroll() {\n  var element = document.getElementById(hashFragment);\n  if (element !== null) {\n    scrollFunction(element);\n    reset();\n    return true;\n  }\n  return false;\n}\n\nfunction hashLinkScroll() {\n  // Push onto callback queue so it runs after the DOM is updated\n  window.setTimeout(function () {\n    if (getElAndScroll() === false) {\n      if (observer === null) {\n        observer = new MutationObserver(getElAndScroll);\n      }\n      observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true\n      });\n      // if the element doesn't show up in 10 seconds, stop checking\n      asyncTimerId = window.setTimeout(function () {\n        reset();\n      }, 10000);\n    }\n  }, 0);\n}\n\nfunction genericHashLink(props, As) {\n  function handleClick(e) {\n    reset();\n    if (props.onClick) props.onClick(e);\n    if (typeof props.to === 'string') {\n      hashFragment = props.to.split('#').slice(1).join('#');\n    } else if (_typeof(props.to) === 'object' && typeof props.to.hash === 'string') {\n      hashFragment = props.to.hash.replace('#', '');\n    }\n    if (hashFragment !== '') {\n      scrollFunction = props.scroll || function (el) {\n        return props.smooth ? el.scrollIntoView({ behavior: \"smooth\" }) : el.scrollIntoView();\n      };\n      hashLinkScroll();\n    }\n  }\n\n  var scroll = props.scroll,\n      smooth = props.smooth,\n      filteredProps = _objectWithoutProperties(props, ['scroll', 'smooth']);\n\n  return _react2.default.createElement(\n    As,\n    _extends({}, filteredProps, { onClick: handleClick }),\n    props.children\n  );\n}\n\nfunction HashLink(props) {\n  return genericHashLink(props, _reactRouterDom.Link);\n}\n\nfunction NavHashLink(props) {\n  return genericHashLink(props, _reactRouterDom.NavLink);\n}\n\nvar propTypes = {\n  onClick: _propTypes2.default.func,\n  children: _propTypes2.default.node,\n  scroll: _propTypes2.default.func,\n  to: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object])\n};\n\nHashLink.propTypes = propTypes;\nNavHashLink.propTypes = propTypes;"],"sourceRoot":""}